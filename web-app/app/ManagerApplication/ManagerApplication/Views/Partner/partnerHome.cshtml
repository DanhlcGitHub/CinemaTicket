@{
    ViewBag.Title = "partnerHome";
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="~/Content/css/w3.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="~/Content/css/partner.css">
    <title>Partner Home</title>
    <link rel="stylesheet" href="css/circle.css">
</head>
<body style="overflow-x:hidden;" ng-app="CombineModule" ng-controller="partnerController">
    <input id="groupId" value="3" type="hidden" />
    <div class="row" style="padding-right: 15px;">
        <div class="col-lg-3">
            <!-- Profile Image -->
            <div class="card">
                <div class="card-body">
                    <div class="float-center">
                        <img class="profile-user-img img-responsive img-circle" ng-src="{{groupCinemaInfor.logoImg}}" alt="User profile picture" style="display: block; width: 30%; margin-left: auto; margin-right: auto; ">
                    </div>
                    <h6 class="text-muted text-center">{{groupCinemaInfor.name}} Partner</h6>
                    <h3 class="text-muted text-center">Danh le</h3>
                    <ul class="list-group list-group-unbordered">
                        <li class="list-group-item">
                            <b>Cinemas</b> <a class="pull-right">{{allCinemaData.length}}</a>
                        </li>
                        <li class="list-group-item">
                            <b>Employees</b> <a class="pull-right">{{currentEmployeeList.length}}</a>
                        </li>
                    </ul>
                    <button type="button" ng-click="manageCinema()" class="btn btn-primary btn-block">
                        Manage Cinema
                    </button>
                    <button type="button" ng-click="manageEmployee()" class="btn btn-success btn-block">
                        Manage Cinema Employee
                    </button>
                </div>
                <!-- /.box-body -->
            </div>
            <!-- /.box -->
            <!-- About Me Box -->
            <div class="card">
                <div class="card-body">
                    <h3 class="box-title">About Me</h3>
                </div>
                <!-- /.box-header -->
                <div class="card-body">
                    <strong><i class="fa fa-phone margin-r-5"></i> Phone</strong>
                    <p class="text-muted">
                        123456789
                    </p>
                    <hr>
                    <strong><i class="fa fa-book margin-r-5"></i> Education</strong>
                    <p class="text-muted">
                        B.S. in Computer Science from the University of Tennessee at Knoxville
                    </p>
                    <hr>
                    <strong><i class="fa fa-map-marker margin-r-5"></i> Location</strong>
                    <p class="text-muted">Malibu, California</p>
                    <hr>
                    <strong><i class="fa fa-pencil margin-r-5"></i> Skills</strong>
                    <p>
                        <span class="label label-danger">UI Design</span>
                        <span class="label label-success">Coding</span>
                        <span class="label label-info">Javascript</span>
                        <span class="label label-warning">PHP</span>
                        <span class="label label-primary">Node.js</span>
                    </p>
                    <hr>
                    <strong><i class="fa fa-file-text-o margin-r-5"></i> Notes</strong>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam fermentum enim neque.</p>
                </div>
                <!-- /.box-body -->
            </div>
            <!-- /.box -->
        </div>
        <!-- /.Employee Management -->
        <div class="col-lg-9" id="empManagement" ng-controller="partnerEmployeeController">
            <div class="card">
                <div class="card">
                    <div class="card-header">
                        <div class="row">
                            <div class="col-sm-8">
                                <div class="float-left"><h3>All Employee</h3></div>
                            </div>
                            <div class="col-sm-4">
                                <div class="float-right">
                                    <button ng-click="showAddEmpForm()" onclick="location.href='#empForm';" type="button" class="btn btn-danger " style="width:100%">
                                        Add Employee
                                    </button>

                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /.box-header -->
                    <div class="card-body">
                        <div class="row table-scrollable">
                            <div class="col-sm-12">
                                <table id="example2" class="table table-bordered table-hover dataTable" role="grid" aria-describedby="example2_info">
                                    <thead>
                                        <tr role="row">
                                            <th>No.</th>
                                            <th>Name</th>
                                            <th>Email</th>
                                            <th>phone</th>
                                            <th>Cinema</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="emp in currentPageEmpData" role="row" class="odd">
                                            <td>{{$index + 1}}</td>
                                            <td>{{emp.name}}</td>
                                            <td>{{emp.email}}</td>
                                            <td>{{emp.phone}}</td>
                                            <td>{{emp.cinemaName}}</td>
                                            <td>
                                                <button type="button" ng-click="employeeDetail($index)" onclick="location.href='#empForm';" class="btn btn-info" value="{{$index}}">
                                                    Detail
                                                </button>
                                                <button type="button" ng-click="deleteEmployee($index)" class="btn btn-danger" value="{{$index}}">
                                                    Delete
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                        <tr role="row">
                                            <th>No.</th>
                                            <th>Name</th>
                                            <th>Email</th>
                                            <th>phone</th>
                                            <th>Cinema</th>
                                            <th>Action</th>
                                        </tr>
                                    </tfoot>
                                </table>
                                <ul class="pagination float-right">
                                    <li ng-click="empPreviousClick()" class="page-item"><a class="page-link" href="#">Previous</a></li>
                                    <li ng-click="empPageClick($index)" ng-repeat="t in empPagingArray track by $index" ng-class="t"><a class="page-link" href="#">{{$index + 1}}</a></li>
                                    <li ng-click="empNextClick()" class="page-item"><a class="page-link" href="#">Next</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <hr>
            <div class="card">
                <a name="edit" style="display:none"></a>
                <div class="card-header">
                    <div class="row">
                        <div class="float-left">
                            <h3 ng-if="isAddnewEmp == false" id="editEmployeeTitle">Edit Partner</h3>
                            <h3 ng-if="isAddnewEmp == true" id="editEmployeeTitle">Add Partner</h3>
                        </div>
                    </div>
                </div>
                <form id="empForm" class="form-horizontal">
                    <div class="card-body">
                        <div ng-if="isAddnewEmp == true" class="form-group">
                            <b class="col-sm-6 control-label">Employee username</b>
                            <div class="col-sm-12">
                                <input name="inputEmpUsername" type="text" class="form-control" id="inputEmpUsername" placeholder="">
                            </div>
                        </div>
                        <div ng-if="isAddnewEmp == true" class="form-group">
                            <b class="col-sm-2 control-label">Password</b>
                            <div class="col-sm-12">
                                <div><input name="inputEmpPassword" id="inputEmpPassword" type="password" class="form-control" placeholder=""></div>
                            </div>
                        </div>
                        <div ng-if="isAddnewEmp == true" class="form-group">
                            <b class="col-sm-6 control-label">Re-confirm Password</b>
                            <div class="col-sm-12">
                                <div><input name="inputEmpConfirmPassword" type="password" class="form-control" id="inputEmpConfirmPassword" placeholder=""></div>
                            </div>
                        </div>
                        <div ng-if="isAddnewEmp == true" class="form-group">
                            <b class="col-sm-2 control-label">Select Cinema (select one):</b>
                            <div class="col-sm-12">
                                <select class="form-control" name="inputEmpSelectCinema" id="inputEmpSelectCinema">
                                    <option disabled selected value> -- select an option -- </option>
                                    <option ng-repeat="cinema in allCinemaData" value="{{cinema.cinemaId}}">{{cinema.cinemaName}}</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <b class="col-sm-2 control-label">Employee name</b>
                            <div class="col-sm-12">
                                <input name="inputEmpName" type="text" class="form-control" id="inputEmpName" placeholder="" value="{{currentEmployee.name}}">
                            </div>
                        </div>
                        <div class="form-group">
                            <b class="col-sm-2 control-label">Phone:</b>
                            <div class="col-sm-12">
                                <input name="inputEmpPhone" type="text" class="form-control" id="inputEmpPhone" placeholder="" value="{{currentEmployee.phone}}">
                            </div>
                        </div>
                        <div class="form-group">
                            <b class="col-sm-2 control-label">Email:</b>
                            <div class="col-sm-12">
                                <input name="inputEmpEmail" type="text" class="form-control" id="inputEmpEmail" placeholder="" value="{{currentEmployee.email}}">
                            </div>
                        </div>
                    </div>
                    <!-- /.box-body -->
                    <div class="card-footer">
                        <button ng-if="isAddnewEmp == false" type="submit" id="empAction" class="btn btn-info btn-block">Save</button>
                        <button ng-if="isAddnewEmp == true" type="submit" id="empAction" class="btn btn-info btn-block">Add</button>
                    </div>
                    <!-- /.box-footer -->
                </form>
            </div>
        </div>

        <!-- /.Cinemas Management *******************************************************************-->
        <div class="col-lg-9" id="cinemaManagement" ng-controller="partnerCinemaController">
            <div class="card">
                <div class="card">
                    <div class="card-header">
                        <div class="row">
                            <div class="col-sm-8">
                                <div class="float-left"><h3>All Cinemas</h3></div>
                            </div>
                            <div class="col-sm-4">
                                <div class="float-right">
                                    <button ng-click="showAddCinemaForm()" onclick="location.href='#cinemaForm';" type="button" class="btn btn-danger " style="width:100%">
                                        Add Cinema
                                    </button>

                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /.box-header -->
                    <div class="card-body">
                        <div class="row table-scrollable">
                            <div class="col-sm-12">
                                <table class="table table-bordered table-hover dataTable" role="grid" aria-describedby="example2_info">
                                    <thead>
                                        <tr role="row">
                                            <th>No.</th>
                                            <th>Name</th>
                                            <th>Email</th>
                                            <th>phone</th>
                                            <th>Open time</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="cine in currentPageCinemaData" role="row" class="odd">
                                            <td>{{$index + 1}}</td>
                                            <td>{{cine.cinemaName}}</td>
                                            <td>{{cine.email}}</td>
                                            <td>{{cine.phone}}</td>
                                            <td>{{cine.openTime}}</td>
                                            <td>
                                                <button type="button" ng-click="cinemaDetail($index)" onclick="location.href='#cinemaForm';" class="btn btn-info" value="{{$index}}">
                                                    Detail
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                        <tr role="row">
                                            <th>No.</th>
                                            <th>Name</th>
                                            <th>Email</th>
                                            <th>phone</th>
                                            <th>Open time</th>
                                            <th>Action</th>
                                        </tr>
                                    </tfoot>
                                </table>
                                <ul class="pagination float-right">
                                    <li ng-click="cinemaPreviousClick()" class="page-item"><a class="page-link" href="#">Previous</a></li>
                                    <li ng-click="cinemaPageClick($index)" ng-repeat="t in cinemaPagingArray track by $index" ng-class="t"><a class="page-link" href="#">{{$index + 1}}</a></li>
                                    <li ng-click="cinemaNextClick()" class="page-item"><a class="page-link" href="#">Next</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <hr>
            <div class="card">
                <div class="card-header">
                    <div class="row">
                        <div class="float-left">
                            <h3 ng-if="!isAddnewCinema" id="CinemaTitle">Edit Cinema</h3>
                            <h3 ng-if="isAddnewCinema" id="CinemaTitle">Add Cinema</h3>
                        </div>
                    </div>
                </div>
                <form id="cinemaForm" class="form-horizontal">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-sm-8">
                                <div class="form-group">
                                    <b class="col-sm-6 control-label">Cinema Name</b>
                                    <div class="col-sm-12">
                                        <input name="inputCinemaName" type="text" class="form-control" value="{{currentCinema.cinemaName}}" id="inputCinemaName" placeholder="">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <b class="col-sm-2 control-label">Address: </b>
                                    <div class="col-sm-12">
                                        <input name="inputCinemaAddress" type="text" class="form-control" id="inputCinemaAddress" placeholder="" value="{{currentCinema.address}}">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <b class="col-sm-2 control-label">Email:</b>
                                            <div class="col-sm-12">
                                                <input name="inputCinemaEmail" type="text" class="form-control" id="inputCinemaEmail" placeholder="" value="{{currentCinema.email}}">
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <b class="col-sm-2 control-label">Phone:</b>
                                            <div class="col-sm-12">
                                                <input name="inputCinemaPhone" type="text" class="form-control" id="inputCinemaPhone" placeholder="" value="{{currentCinema.phone}}">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <b class="col-sm-2 control-label">Open time: </b>
                                    <div class="col-sm-12">
                                        <input name="inputCinemaOpenTime" type="text" class="form-control" id="inputCinemaOpenTime" placeholder="8:30 - 23:30" value="{{currentCinema.openTime}}">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <b class="col-sm-2 control-label">Introduction: </b>
                                    <div class="col-sm-12">
                                        <textarea id="inputCinemaIntroduction" name="inputCinemaIntroduction" class="form-control" rows="5">{{currentCinema.introduction}}</textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group">
                                    <img id="cinemaProfilePicture" ng-src="{{currentCinema.profilePicture}}" style="width: 200px;height:200px" />
                                    <div class="col-sm-12">
                                        <input id="cinemaChooseFile" class="btn btn-default" type="file">
                                    </div>
                                </div>

                                <div class="form-group" ng-if="isAddnewCinema == false">
                                    <h3>Room List</h3>
                                    <button ng-click="showAddRoom()" type="button" class="btn btn-danger " style="width:100%">
                                        Add Room
                                    </button>
                                    <table class="table table-bordered table-hover dataTable" role="grid" aria-describedby="example2_info">
                                        <thead>
                                            <tr role="row">
                                                <th>No.</th>
                                                <th>Name</th>
                                                <th>Capacity</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="room in currentCinema.rooms track by $index" role="row" class="odd">
                                                <td>{{$index + 1}}</td>
                                                <td>{{room.name}}</td>
                                                <td>{{room.capacity}}</td>
                                                <td>
                                                    <button type="button" ng-click="viewRoom($index)" class="btn btn-info" value="{{$index}}">
                                                        View
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>


                    </div>
                    <!-- /.box-body -->
                    <div class="card-footer">
                        <button ng-if="isAddnewCinema == false" type="submit" id="cinemaAction" class="btn btn-info btn-block">Save</button>
                        <button ng-if="isAddnewCinema == true" type="submit" id="cinemaAction" class="btn btn-info btn-block">Add</button>
                    </div>
                    <!-- /.box-footer -->
                </form>
            </div>
        </div>
        <!-- /.Report Management *******************************************************************-->
        <div class="col-lg-9" id="reportManagement" ng-controller="reportController">
            <table class="table table-bordered table-hover dataTable" role="grid" aria-describedby="example2_info">
                <thead>
                    <tr role="row">
                        <th>No.</th>
                        <th>Name</th>
                        <th>Capacity</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr role="row" class="odd">
                        <td>{{$index + 1}}</td>
                        <td>{{room.name}}</td>
                        <td>{{room.capacity}}</td>
                        <td>
                            <button type="button" ng-click="viewRoom($index)" class="btn btn-info" value="{{$index}}">
                                View
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <!-- Choose Seat Modal -->
    <div class="modal fade" id="viewSeatModal" role="dialog">
        <div class="modal-dialog modal-dialog-centered" style="max-width: 70% !important">
            <div class="modal-content" ng-controller="roomController">
                <div id="chooseSeatAreaContent">
                    <div class="w3-container w3-row">
                        <h5>{{currentCinema.cinemaName}}</h5>
                        <h6>{{currentRoom.name}}</h6>
                        <form id="seatForm">
                            capacity: <input name="inputCapacity" value="77" id="inputCapacity" />
                            Room Name: <input name="inputRoomName" value="Rap new" id="inputRoomName" />
                            <button type="submit">Add</button>
                        </form>

                        <br />
                        <button ng-click="changeMode('multipleSelectMode')">select group</button>
                        <button ng-click="changeMode('multipleDeleteMode')">delete group</button>
                        <button ng-click="changeMode('singleSelectMode')">select</button>
                        <br />
                        <button ng-click="addRow()">(+) Row</button>
                        <button ng-click="minusRow()">(-) Row</button>
                        <button ng-click="minusColumn()">(-) Column</button>
                        <button ng-click="addColumn()">(+) Column</button>
                        <h4>current capacity {{seatData.length}}</h4>
                    </div>
                    <div class="w3-container w3-row w3-margin-top">
                        <img src="~/Content/img/repository/screen.png" style="width:100%" />
                        <div class="w3-container" id="seatAreaId">
                            <div ng-repeat="row in matrix" class="center-div">
                                <div class="w3-center w3-text-light-grey inlineContainer">
                                    <div style="width: 30px">
                                        <b style="margin-right: 25px; font-weight:500; color:black">{{row.alphaName}}</b>
                                    </div>

                                    <div ng-repeat="seat in row.seats">
                                        <button ng-click="onclickSeat(seat.px,seat.py)" class="{{seat.className}}" type="button">{{seat.locationX}}</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="w3-container w3-row">
                        <h5> content goes here</h5>
                        <button ng-click="reviewSeat()">review</button>
                        <button ng-click="save()">save</button>
                    </div>
                </div>
            </div>
        </div>
    </div>




    <script src="~/Content/js/angular.min.js"></script>
    <script src="~/Content/js/jquery-3.3.1.min.js"></script>
    <script src="~/Content/js/jquery.validate.min.js"></script>
    <script src="~/Content/js/bootstrap.min.js"></script>
    <script src="~/Content/js/PartnerModule/partnerValidator.js"></script>
    <script src="~/Content/js/PartnerModule/partnerMainModule.js"></script>
    <script src="~/Content/js/PartnerModule/partnerCinemaModule.js"></script>
    <script src="~/Content/js/PartnerModule/partnerRoomModule.js"></script>
    <script src="~/Content/js/PartnerModule/partnerEmployeeModule.js"></script>
    <script src="~/Content/js/PartnerModule/partnerReportModule.js"></script>
</body>
</html>
